<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab3_Submission/7/22101002_radiah_hassan_cse422_07_lab_assignment03_fall2024_-_RADIAH_HASSAN.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab3_Submission/7/22101002_radiah_hassan_cse422_07_lab_assignment03_fall2024_-_RADIAH_HASSAN.py<p></p><pre>
# -*- coding: utf-8 -*-
"""22101002_Radiah Hassan_CSE422_07_Lab_Assignment03_Fall2024.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1nhCNV2VppbXJbWWzdO3R11TcEVolTSQE

Part 1
<a name="0"></a><font color="#FF0000"><a href="match5-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_18.gif"/></a>

"""

import random

class MortalKombatNode:
    def __init__(self, depth, start_player):
        self.left_child = None
        self.right_child = None
        self.parent = None
        self.depth = depth
        self.alpha = float('-inf')
        self.beta = float('inf')

        if self.depth == 5:
            self.utility = random.choice([-1, 1])
        else:
            if start_player == 0:  # Scorpion starts
                if self.depth % 2 == 0:
                    self.utility = float('inf')  # Minimizing node
                    self.mode = 'minimize'
                else:
                    self.utility = float('-inf')  # Maximizing node
                    self.mode = 'maximize'
            else:  # Sub-Zero starts
                if self.depth % 2 == 1:
                    self.utility = float('inf')  # Minimizing node
                    self.mode = 'minimize'
                else:
                    self.utility = float('-inf')  # Maximizing node
                    self.mode = 'maximize'


def build_game_tree(start_player):
    root = MortalKombatNode(0, start_player)
    add_child(root, 0, start_player)
    return root


def add_child(node, current_depth, start_player):
    if current_depth == 5:
</font>        return  # Stop at the maximum depth of 5
<a name="4"></a><font color="#FF00FF"><a href="match5-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_6.gif"/></a>

    node.left_child = MortalKombatNode(current_depth + 1, start_player)
    node.left_child.parent = node
    add_child(node.left_child, current_depth + 1, start_player)
    node.right_child = MortalKombatNode(current_depth + 1, start_player)
    node.right_child.parent = node
    add_child(node.right_child, current_depth + 1, start_player)


def alpha_beta_pruning(node):
    if node.left_child == None and node.right_child == None:  #leaf node
</font><a name="2"></a><font color="#0000FF"><a href="match5-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_13.gif"/></a>

        return node.utility
    if node.mode == 'maximize':
        for i in [node.left_child, node.right_child]:
            eval_value = alpha_beta_pruning(i)
            node.utility = max(node.utility, eval_value)
            node.alpha = max(node.alpha, eval_value)
            if node.alpha &gt;= node.beta:
                break  # Prune remaining branches
    else:
        for i in [node.left_child, node.right_child]:
            eval_value = alpha_beta_pruning(i)
            node.utility = min(node.utility, eval_value)
            node.beta = min(node.beta, eval_value)
            if node.alpha &gt;= node.beta:
                break  # Prune remaining branches
    return node.utility


def mortal_kombat_simulation(start_player):
    current_player = start_player
    round_results = []
    for round_number in range(3):  # Play 3 rounds
</font>        winner = play_round(current_player)
        if winner == -1:
            round_results.append("Scorpion")
        else:
            round_results.append("Sub-Zero")
        current_player = 1 - current_player  # Alternate starting player
    display_results(round_results)


def play_round(start_player):
    root = build_game_tree(start_player)
    return alpha_beta_pruning(root)


def display_results(round_results):
    scorpion_wins = round_results.count("Scorpion")
    subzero_wins = round_results.count("Sub-Zero")
    total_rounds = len(round_results)
    if scorpion_wins &gt; subzero_wins:
        overall_winner = "Scorpion"
    else:
        overall_winner = "Sub-Zero"
    print(f"Game Winner: {overall_winner}")
    print(f"Total Rounds Played: {total_rounds}")
    round_number = 1
    for j in round_results:
         print("Winner of Round", round_number, ":", j)
         round_number += 1


start_player = int(input("Enter starting player: "))
mortal_kombat_simulation(start_player)

"""Part 2"""

<a name="5"></a><font color="#FF0000"><a href="match5-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

class TreeNode:
    def __init__(self, depth, is_using_magic, leaf):
        self.left_child = None
        self.right_child = None
        self.parent = None
        self.depth = depth
        self.alpha = float('-inf')
        self.beta = float('inf')

        if self.depth == 3:
            self.value = leaf.pop()
</font>        else:
<a name="6"></a><font color="#00FF00"><a href="match5-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

            if is_using_magic == 0 and self.depth == 1:
                # Minimizing node
                self.value = float('inf')
                self.opmode = 'minimize'
            else:
                # Maximizing node
                self.value = float('-inf')
                self.opmode = 'maximize'


def buildTree(magic_flag, leaf):
    root_node = TreeNode(0, magic_flag, leaf)
</font>    createChildNodes(root_node, 0, magic_flag, leaf)
<a name="3"></a><font color="#00FFFF"><a href="match5-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_8.gif"/></a>

    return root_node


def createChildNodes(parent_node, current_depth, magic_flag, leaf):
    if current_depth == 3:
        return
    else:
        parent_node.left_child = TreeNode(current_depth + 1, magic_flag, leaf)
        parent_node.left_child.parent = parent_node
        createChildNodes(parent_node.left_child, current_depth + 1, magic_flag, leaf)

        parent_node.right_child = TreeNode(current_depth + 1, magic_flag, leaf)
        parent_node.right_child.parent = parent_node
        createChildNodes(parent_node.right_child, current_depth + 1, magic_flag, leaf)


def performAlphaBetaPruning(node):
</font>    if node.left_child == None and node.right_child == None:
<a name="1"></a><font color="#00FF00"><a href="match5-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_15.gif"/></a>

        return node.value

    if node.opmode == 'maximize':
        for i in [node.left_child, node.right_child]:
            evaluated_value = performAlphaBetaPruning(i)
            node.value = max(node.value, evaluated_value)
            node.alpha = max(node.alpha, evaluated_value)
            if node.alpha &gt;= node.beta:
                break
    else:
        for i in [node.left_child, node.right_child]:
            evaluated_value = performAlphaBetaPruning(i)
            node.value = min(node.value, evaluated_value)
            node.beta = min(node.beta, evaluated_value)
            if node.alpha &gt;= node.beta:
                break

    return node.value


def calculateMinimax(is_magic_used, leaf):
    tree_root = buildTree(is_magic_used, leaf)
    return performAlphaBetaPruning(tree_root)


def pacman_game(magic_cost):
    normal_path = [3, 6, 2, 3, 7, 1, 2, 0]
    magic_path = [3, 6, 2, 3, 7, 1, 2, 0]
</font>
    minimax_without_magic = calculateMinimax(0, normal_path)
    minimax_with_magic = calculateMinimax(1, magic_path) - magic_cost

    if minimax_without_magic &gt;= minimax_with_magic:
        print(f"The minimax value is {minimax_without_magic}. Pacman does not use dark magic.")
    else:
        print(f"The new minimax value is {minimax_with_magic}. Pacman goes right and uses dark magic.")


magic_expense = int(input("Enter the magic cost: "))
pacman_game(magic_expense)</pre>
</body>
</html>
